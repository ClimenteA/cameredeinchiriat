
// Components
// Minify bundle with rollup.js
// https://rollupjs.org/guide/en/
// rollup App.js --file bundle.js --format iife
// rollup App.js --file bundle.js --compact --format iife
// https://www.npmjs.com/package/idb-keyval


// TODO 
// https://flems.io/#0=N4IgZglgNgpgziAXAbVAOwIYFsZJAOgAsAXLKEAGhAGMB7NYmBvAHgCNaATATwD4AdNAAIhLODGrEI9IdSgY4cALz8QxLrQwAHLat4sA9OMnS0A4aLC1ajAE6z5ilSAhorewSJEstvACK0AK5ssAC0chDUANZC6kIwnBDEQhixGoa+nl4+vADCtjAYjJxCbNyiqYQFYM4kxFqIBgbqnLRYAG7U+HRYelowtFqwhhj6BpkW3r4AChi2ybRgFUJVMDWqdQ1NLW2d3W16ACoaALIAarkjYxPeBlY2MLbm3gCEoaFCAMrUthBaxHAVo8YPghAE0AByZIFLC0dowISAZMIhO9nqI3h8xD8-sk4LZqM40FwYAB9WGcQKwODNDQdajhNqwtAGNgKEEAKzgekMcGx-14qKyLAxol5v3+QjxBNUnIM2i0+E53KMfOIAtC5kMHB4vEoIHEsBM9AQiBAAEYAAyIADsoStFpAAF8KOhsLhTeSYFBFQgqHQGExiHh-XBkp6oEIlEIABQASkjvBjwCyOzgiCEyAAuhQspAoHY0xmsiJgHm7OmIQBBKBQCEUWIwAAexAr1drzuLQlL0HLQjAGCg4nrjGbrZM8IhHcmXbLj3TxFsgRg9Ybo6EENybSGMGKk6y2dzPbn67bdayA6g88Xy6ygePZoAzIJHbHBIIm1paPMhJw1hhKWGxLkFQBoSFIxp4GaZqIA6zqujgeAYEaaBwD6er+owzCmiGyRIeBKGRjGJz1pWhHJhYrhJOmcYJl2Jz4KmhEAFKfAA8gAcvgWhzOI0ZQLQ1ADp86i2BgADmIIScQACSjBYNGUIaHAoRYEkVTQBCsbxgAPtpGaZlOIhwBg8LUfGSiJvxglQMJX7iSC4gyXJCmpipam-LW9YsRx+Chr8aBiRAYDcNG9GplpOYWNQhAYAFMDURgFBsBQ1DmYm5FeEI7S0BAJQZZlQhaIEcCEOmja0WFSlccVhDRsA+ANY2L6RQVP70PFQjlRZXadplQUxl1ShRhCF6aT106tZVrSoVYtgAKJIbV5Tddw+xYNuxSEfRF6vhNBXbTWhEvAdUC9V4jpnSIXriEIU20HAyCNpma0bQkR13Q9T0vbAxRnYZBVyIUthmbR+WTQxSlbRD034LOtjRl1iYvI2307gku2tSIJ2EQuS5-S1BVwEMkQdRAFXQ-dvnE9QMDRhAFBmrGBOZSEgTAzG9NpK0aW3RTD0QJmZENRTF3To6yAYJm0bJalnadpWvkmbTGNCP9jl5umebk3DhF5s+POVm+aAfl+yS-v2AEpMhvo0Fu0CPEgaCUlAIFemBpgmiAABMACsMFOi6ICYAhpqEIUv62Ghfr0JhQbYcayRhxgEeETR3X5T9XMyFGwCiyIWQ4SknAlFGpHp52OxoPguWEX4RQgkSADucYVxoVdSMQsAMb88kqyIleo5tUb9oOMDy90MVxQpRUlXWWdoH389kXnqtZFkBTEGzwhg1lEAwI31HAEUC6FsAxGVo6L60Wd8kQknEdEOHjxnntIi34QZpz4p02aczBW364IqxB8DG0bqEHYc8d6tX-OoKw1BipXiXH-VqQwkIwEILQKAEcKwAHUYrJGNgkQEcQ2AIlaMbAA-C-TGXh6CAMCC2eItEB4d1gIREExA5hSXwO0AcSDLq0LQFEGA3BWiNzQOmBE6d+rRhBMI7gm5fyRiGrzO89gABk6j4gMS4TuHhfCOE9zjPGZOnBoyVljP9GhvCoBLnnG3BiSRYACJfGdFWotRbvkbJ+b85t-z5iBMnB20d1r21sI7Z2rtDT4U9r7f2cEg5ujwFgDArgo62wDFhDJoYhApNcKnHm+VC7wEEv0QiXtrRZEzjsZea8LAby3uNTK7Q94HyTMfWwp9z6XzSjfBSxh8L4DyZCZBXgAFoCARDMSYkwijXrFAgquUKzqGmbMms1CaGxG4P0Cs0UJBRA4I2DZNC9nRASOmD6+AYDwlsCFRGnVB7oxcUzARt95CkM8k0zZs1lm0FWTAUIcyBEiHoBEaIINuoK2irFCSClyEwC-qNRemVnTrhOHMGIF4UiAh6K9X+AiPoCNhkeeG9z6I6yGsNU8QgKGdSEGVR5JcVHkpJcirwQztDRgRhQCAvTX5jIUpSCmoQoAQFDMczZbyICQOBZjOQChCwAAMAAkwAUa4p+m9WlEINVo04BCel648IQAnI6IQqqUY10pVnauJRNHrgSEkVwYlJyKtGTQqxmy34KR4a0iVXrvUQnocAlZMyEXzNlTQ4g2yOo6rDtEQ5-qA0iFOcIzgDLdXFHdQG0Fk8JIQsTFCvNtMITwrnryyNBVmqVsym8jAHzIH0E4CEMFUQC1ZyFo1S+9YUasJgC8-lNDb5sAYeoKuv4-K0G4DKwdmzQWivBTGA2E8YUlqJgu8NQgK2ztaq4ndXgB3JsDcGq5iRiAzqPYIwIWhOD10Pq0LAV9uoPthgJYqcZs00LoRMhhkjmEaEcZ3KR2jOG2G4TY-h+7Mr0FZuzKR6Ua2LKWNGVibB2RgXwPIuA0YdixnwLAAKxBCDxgWZemRLwdiAa7guCAvcSOIZoUW1d-Tqabu3ZeqNGhalQcxivDjXhroIlIxxpjU8ISwfLcODQbL+M1Jznx-jq8eMooY6rT9mN6DyLERIph5dlNeBkXIkRiipHMquQGWw8YOG6OAbBlu+mrqjy3chozCjiTKKjCU7Q-aO3ydU565NEGOqUb7YhvdyaZMHoEWy9xz4jYm18X+S2wz0J21gOExATsaxRPdhBU0D5EBewDvBd04BrB2HSRhQMwYE59nK48ApoMC61dgGAZIUYTjk1TMS-MjwEa0WRoyvDBGxJEbqSIBptht6dhafvQ+HSukUAvk+tEtaFL3Aqxt5+2bb5E1isKuggQGBJrWxCSdAU56teIKFCKQhFVbrkqqq7N2PNCDNDS9cBqKxwEnEIK7iros7cFd6OGP36yypZb1zpHKtD9e6pWqVJ3Ma3wwBejj8rFAXJ63YV7KMdb2rO27SQCQkdfrQK29twAFbq2gAjbHjxYwAG5cn4FsEERgvkdwKQMAagA1A8kcxBLFhZ7QxJsQvK2RZEJFw9mNLlwDaLTe56qtyas4PGTRryFIjuIGO7osA5gMnWmrtHZOKdLtoqJ2FOqDe2E0i4+sG5beyFV3q+3e1YtoE8cbbxpsfxJYCVt8JIStBhIidl-UROYl4C9gANniYHYOpXKsx2q6aWjPjAK-gjCIMAbOsDrnwAYcMEJBAZ798a40fZ8+F7lNbUvaBy-fnvg16vbRa8t7t2X9afvhmZTz+3iERfhkN6b8kIPuea9D7uPVrvaBBCF3lI1vTKbaudajOGezq+ULJDLlbGJN3xtCAVpRa7Kt147kaTvWbbS06JmQH0zv8zulMyEGdS5I2iNCETBaIQ9r5LDLP5LbVp7Qf5MCjaEDf5CC-7-7RhB5AEXyLyZhZAeJGxYCs7s60ytDwI4AMD4AACOS4tynwUeX4PqOw8ov864Bgp48yEIBgiAcMEI6Y8oL4qWoS6W4eLske0SHsMe9oxWiSIcBA1AigqWmSccIAJAZAkU2o5Q5E-ApAXCrg6YFojOb49Qpizqqh6hXuRsOuY640ihKSYGKh0Buhih3Exc2h5hGhHAtg2Cth8+xArI0QYkbOR26aQgRIxsFhxAVgDAoQcAEAAAXh1JaBaAAKR+E3JSDWSAqipiQ6asgGiuAwB+EBHEChD9iqRQDcDpiuBhy-DEAZExyhCNwwAQBiQkAFFoBFFJB+F0D8TsyFGPANEaHlEwBsBRBJCAo6BAyxQ0zpg+HpEaHygDHk4dQjF+GdHdG9GZFBGwg2CEA2GxRSADgQBsicAzGwghGhD3SNjZFlFwBLFEY2HuEYDcC8gDijF6Hz5oByFGH+ExzphmgAAsWg5UEIAAEl6PCHEakOxDAEuHPL8VAP8ZEIlMfr8AOPWMZChEEW0WAH4aKsbKEGHFUTUW9vgG8TAFgH4a4VEO4UEGgF4QAMRgA+yUmUmNGYJfjphklvGcBMlMl+GqRoDlG5REbphewPgWifFskYCHGNxcmlRCA+w+z8mNiCmmE6a-4wK0AzEVFzFZELEnHlYrEBQsEMCbGipbE7G0B7EHFHGBHqnLHnGiRXHWS3GKELEVGYmMJ8lqFxb3GMFvqAgKHqAMKokdTOl3GCBEC5S-jTbOGJDrqXHDHtS6He4UxL6emEnEmeEMlgApkymBQ6aPhSnQFCBvFZl+mWH3ROr0DpgFDyBSDwgEm0CHElTJy0BtK-5eyfE5lNm-5gasjRgWj1idnQFdn4BewDqKHJoNk+xNmSktlCBtkYAdldkznQH4CMzRlGyxk6Bbo-otiICzE9FZHBqhCoI0wYJYINaelqnRqwAFGcILqlGBH2nVGOkWj5nEBNH0lCBkkwCx5vlvmLn3HLlaCrlAKIAbm7G7nyD7mYIpzHnHGnmkwXmRBXlZE3lYlOm0nNEMkfnvmx5fkBkUErnBoAU7l7noJgVHkaEnncBnkPYbHUBwWdEOnphIUaFPnsyvnoWfkulYUaBL4fxPGfjBH4QsFsAK62KMB+HqANAohmgSkCkaEimcDclvb3nREkXHGhHhH3lSXOF2mVG3mvH3kiXi4JFVE6Y0wWbIXPmTnRhmjWg+z1hvHWg2V2VzkSVM4dHKlbngL6UFCkltFalCCDBSCqRhEAAyMAgUbA0ASQ3ABpexguoQnlEcNhfltGKlwVoV4V0aelzYsVTA8VPliVAVMAKVEAYVoq6VbFVcoC4CGgkUp6SQ3FhZfFE5XoRQJqNpShspOh0lopOlUR1FwRYRPJHx0pSlgROR0A+Rq59RJRw18FWlWJrRxRKJaR6Js1jCZoOJeJlZDhx4D5jFtRk1fhVhiQPlse6lih9hjhZoTZglNcZJAAnPdZWdWTFGIrUY5NmaEJdeVCOeVK2WJO2d2QDb2f2Y9UEaETYedY8KEIckqV0W5WqacZqWJNqesXqeINsR0UBcafDRqRaZcdcbAJheVfvJVa0NxVoT5WaCdeVJTU2TTeVLHlKZtY4dMXYUhESR4aSSWX9VOYDT2XOfeQ+M5c4YckEc9XWa9TuO9Y2dTU2eZZ2fLRQBaPgBaILYTRyvkp6TxUWTpqWc1RWRoXsa4L+I2DyUzZDaJa8VdZgjdWhaxf6e3H8mGgkRGJ6TJXJZ9X4RidpW9qdS4V+MzVGUIAYAAFS3S0DFUIifAYD9i-BCDB0GAaGDBIQRUdXOFa0NX1qCUMKtW-De0RGKXC02DqBYDdUF0xmhprIRj87vJehPFu1ikM2+1e2IWDW9UqWp0Fm8WmD8VZ3CUaEW0og+zS0olrCMIfUPi+2bm9ELixRwCzQl0Tk2D1zRi3UWi-hiRC2KEz0oTz0llL2MAr1r0hVC3l2O2V1CDV31peiICkKzRCYMWp4MAViAD25BCG3f1UIF7MPQ-ShS+bbRhRoYdTYZaE2RUrTVmWA0NfbVMk7ReIgKmm9JfR8jfWsF+Pfc4btS+daA+Ng9g2rTsCKmKskJ6SYemR3ZodYT5Q+aKqGEEVBZGb4WVcKjQ8kKKnVV3cWY1WWS1e-R1F7K3XYf7ZDRwLrm0JbeVNdSUK+b+DI-gxoIQzkqKogI4FkdFNAHlII1tbYFDUXWI94VGUwwQyw39hADVVIAFE8RDdoyI8XQw61UA1Q3I60Ao6w6Y46uY2JEIGY08WGaguNSEAJFEH4fXemNZNQBZQpSiDmRPY2JvRQ0dUjW9tLW9lTWmWYb-hk9E+pafc48Y6KmY86l4zfj42Kn43Y047QC4yY14xXeg1vfpRsUkaE2osE11TmYzRoSHSkAwrQHCa4DTPoxyTgl0QANK1VsBs6NziCdJtTwCQi4jXqZ5-kMKSinmFPx0aHN2MIKkHX1Xd0pACWYLZ0iWDDkM2N6MPmkNmEKlOFnVCPszTFB2h0nDh32xfDR1zBkwbPOFT1ZHjFzCDFTEGPOH-OiSTHlOGPyN5NkwwNsKelJ3UAp1OE5OVPQs1Nn0IhIO12ekh0aGKEABiEA1QVZjVhBRL8Ad2ZJ92JCCIXm-QJQHwmwaYTQI6YkIR0A8gQyhpHLGA+AX4YkRgGCjcJIrL3QgUFCuUSgt1X9bxD4T4zhih0kc0KQpJQgc0nAEkpLgQ5LgIwd1yjw3AZxAUodNL8Q1x9LaQjVXltgcJtAQgFRbUsQ+Cq5oY4cvlSw7IxUyQRGCIiqVLUTTLjQBgv48I-E-QkcqkPw90iwwCPQBgTAoQxUxekQbOCubWoQCQEk4wZZ89BgYqcAS41I1oEl1obxPst1Cdzh3zZ1bNiZpJoQtG9k6YbMUAcKRQGAiAjbWbcA7QYkvOjYZAjODCYAAAHBQJEQ+LkD22JJEV7BaAO1AChBO34LO17JsBO5WE0I3Nu-gI3A+Hy2BgYHO-eUYL26u7OxaPXcu6u7mee3O1s9ezK1EV-RezfgAEJVmPtewfXPsWgfUjsXv51zuPg+znsPhzQTu5CIv4iwAXvUCNhfuSl3sWjUDcCIfPtewXu2DofId5hQBfsjHIeTrCJfuzsPgJAUecBEcLi0DCKcmyWEBfsPirsGATsQeTunszvgeaQEm1sc2cBZX9BFCRmCeFBTXC18ckkCfp37PGU45XYVNVNsOwvxQIMlBYsu2s1uH8cNspL5pCAtttucKdt6cwCcf9uDvDtjuQfTsXsLtLsPgrtf3rsPibsGDbuNy7v7v8tHv3kWicfIdXuOc3sYcXsPvBdPvIfvufsRffuWgXv-uAcKXAcPigcvvgeQfQeAxwcIexdIcvtzuoc4cFcWjYd5ehdzt4cEftTUds4kexdkdsDFzJxpeYdzvEcApBdOe8ksdseQfcREYXtVcNe8k+ycDUBezR3IdUexcnDWhtcWi+yBVvELfFsXsVIXs+yx5QChBvEXt7dztzvre-sPhvGhBD0hG9cZcce2fccn1LlGNEPVM12afOGNz+1Q0FAYBtqlBfdRDO0HXk2JMSW03fVvZg+N1QOKG+PyD+NWRBMaE+nLW0XYlewiVgscNGV0n2BK1vFwCKfQuMp-ZX2veKGYNkmcC3WU+U8ZVZG-h0CiQNVI9EYeHVEE9PfKcTo0fyEaEw8RmDP2N7OcOZ1HN93OED0Pm51YkgNQ9+2iML0PkhPtNN0rXpi5m+1XM6Y3MPlqnt1CB8m+3k-UDUC3UYCm9pMcnnML1QS+3b2Y+hPY9zleyAiFDiD7EMLs+KMwtc9s75EYI3JPHk-R0+xsA+y3EotKfe-wDc+IDR046elVZP3rgADrb9kLuTHPEAiA-vDW+APvU6JT4ZcPgTnvrjXj7jhfZTAvpfJjBTWpKj4QKxWCTxmvOj8v6YH12TS5E+Cf2PDJ1oA-gPlDwPWZIPsvWzPJHT4vDTiRRlLTmjEclVYln1ko1tUj-9atQeKDd9gfj9jCEIafadQvWvhzQlOdKPD5Vv5DV25DE-4pU-ihcIjwYA-EbSKxxcTAINNZL12ZK-K-cts5AGn2QHLJAA0v+EduOVCAxMXyYAWPLANgGRRByYAoQLdVppNkoBstbmtOT5pAD+yiA0AV6l-x013qVNGAXAPIH4Chyb2a0KA3QGkCABOAoGvd2-IENDsDAJ4i-00CMIFO-dGfoZXTA8DoGrAkkriBo4WMIK15VXvr10pMNQcLfZQnKSH4JNr+RDOhmRSBaMMj+9vA5r3XP7e1qGo9VOjGTkFsNPSfPcaq4B9Kb8SUgINhqkF76-15q7RZwprzoq+0HGiTaATQNl4xV6edkBqizULpaNxGq-UVCUDt7cRPK4nO5lo1irJwIACCfXl32-ImCyYHbHPvYHjL3MGQv9cypZWso5kHKtlXsguQLhswFc7MT8K4DsDWCoctgtIZzmiRvQshsQzBnkKsr2VOhTvZgQGUBiG5M0CQSKNIQjD64gYRuV6OmmNTwgOB-EYThOQdK7NtButcsq1SR53852tvfSn4MZ77NAhZPcoc+SqEmUmGfQ7RgMPTQZCnivgiQP4P2aeFHgVgphq4CsDyD2qQgWPGD216mUmKbAMAL8N+G8MdKmwzKt-3Fq-9xy5lX2AUKhH1gYRc5H2HExiqNM5+xw6Bs8Lta-lPSawqQWaDVroiUgu-RwXUTaLRDdcWwm4TsM4Z7DnikglHrmT9Ixl8R6Qp-pkN4GZVthzVThvcNsCPD7auLZwt8TZqWsYQT-UoJJ08Jt4C8LzCOu8xjqmMNCuQWKFCAM43RaqMycOheHKDBFJiD2f3JOiuKyB40ByKshS3ySEtiWjYQQN8wAACOARIKkDFAwAmAKrEoNGF+ZuQOSIbEmLuQgCNgvQcQ8CDBHozOEVOztfAcw0z7ot-kTxGttpyk4QtnC3uRQhGK95Riw0MYn1nSIf7EBUC9xW0Y6lSDRgUkwpNprKylLBjkxPfPFpmO9pjlZeSY4BHIM9J3N2+8lX2rmL1CgRrYeAHBogDNBQC-YsEbMCAFRJRATQqAIQqVlUgs9oAeoFtngEDZNAjsWgIkmtGTYzioA1or2MrXwAPh1x6kb0OyXSTRp+geAMUDiCdAGQgAA

// Update a doc by field value
// https://stackoverflow.com/questions/49682327/how-to-update-a-single-firebase-firestore-document/49682615

// https://awesomeopensource.com/project/orbitbot/awesome-mithril


import {
    Nav, 
    Footer
} from "./src/NavFooter.js"

import Home from "./src/Home.js"
import AdaugaCamera from "./src/AdaugaCamera.js"
import IntraInCont from "./src/IntraInCont.js"
import VeziAnunturi from "./src/VeziAnunturi.js"
import IesiDinCont from "./src/IesiDinCont.js"
import PoliticaCookies from "./src/PoliticaCookies.js"
import PoliticaDeConfidentialitate from "./src/PoliticaDeConfidentialitate.js"
import TermeniSiConditii from "./src/TermeniSiConditii.js"
import RaporteazaProblema from "./src/RaporteazaProblema.js"
import Contact from "./src/Contact.js"
import CreeazaUnCont from "./src/CreeazaUnCont.js"
import ReseteazaParola from "./src/ReseteazaParola.js"
import {ContUtilizator} from "./src/ContUtilizator.js"
import DetaliiCamera from "./src/DetaliiCamera.js"
import ActualizeazaCont from "./src/ActualizeazaCont.js"
import Error404 from "./src/404.js"


// Initialize firebase
if (typeof firebase === 'undefined') throw new Error('hosting/init-error: Firebase SDK not detected. You must include it before /__/firebase/init.js');
var firebaseConfig = {
  "projectId": "cameredeinchiriat-b7885",
  "appId": "1:841749487216:web:602b8e01ac6561aad4deb5",
  "databaseURL": "https://cameredeinchiriat-b7885.firebaseio.com",
  "storageBucket": "cameredeinchiriat-b7885.appspot.com",
  "locationId": "europe-west6",
  "apiKey": "AIzaSyA4oEHfBeM_8mmYXDiaao01eIHkdfmuIr0",
  "authDomain": "cameredeinchiriat-b7885.firebaseapp.com",
  "messagingSenderId": "841749487216",
  "measurementId": "G-2961KQZJFR"
};
if (firebaseConfig) {
  firebase.initializeApp(firebaseConfig);
}




const header = document.querySelector("header") 
const main = document.querySelector("main")
const footer = document.querySelector("footer")


// Static components
m.render(header, m(Nav))
m.render(footer, m(Footer))


// Main contect changed based on route
m.route(main, "/", {
    "/": Home,
    "/intra-in-cont": IntraInCont,
    "/intra-in-cont/:adauga_camera": IntraInCont,
    "/adauga-camera": AdaugaCamera,
    "/vezi-anunturi": VeziAnunturi,
    "/cauta-coleg/:localitate/:buget": VeziAnunturi,
    "/cauta-camera/:localitate/:buget": VeziAnunturi,
    "/iesi-din-cont": IesiDinCont,
    "/politica-cookies": PoliticaCookies,
    "/politica-de-confidentialitate": PoliticaDeConfidentialitate,
    "/termeni-si-conditii": TermeniSiConditii,
    "/raporteaza-problema": RaporteazaProblema,
    "/contact": Contact,
    "/creeaza-un-cont": CreeazaUnCont, 
    "/reseteaza-parola": ReseteazaParola, 
    "/cont-utilizator": ContUtilizator,
    "/actualizeaza-cont": ActualizeazaCont,
    "/detalii-camera/:id_camera": DetaliiCamera, 

    "/:404...": Error404

})

